<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>data koality - open data validator</title>

        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <!-- Bootstrap icons -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
        <!-- Custom styles -->
        <link href="css/style.css" rel="stylesheet">

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="img/fav/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="img/fav/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="img/fav/favicon-16x16.png">
        <link rel="manifest" href="img/fav/site.webmanifest">
    </head>


    <body>   
        <!-- Logo and title -->
        <header class="px-5 my-5 text-center">
            <!-- Show fixed width image if device is large enough, otherwise show width% version -->
            <a href="index.html" alt="data koality home page">
                <img class="d-sm-none mx-auto" src="img/logo_green.svg" alt="data koality" width="75%">
                <img class="d-none d-sm-block d-lg-none mx-auto" src="img/logo_green.svg" alt="data koality" width="50%">
                <img class="d-none d-lg-block mx-auto" src="img/logo_green.svg" alt="data koality" width="360em">
            </a>
            <div class="col-lg-6 mx-auto">
                <p class="my-4 fst-italic text-secondary fs-5">Open data validation using Semantic Web technologies.</p>
            </div>
        </header>

        <main>

            <hr class="my-5">

            <!-- FORM -->
            <section class="container col-xxl-8 px-4 py-4">

                <h1 class="text-primary mb-4"><a href="#i-direct-dist" onclick="select('s-option1')">option 1: validate a data set</a></h1>
                <div id="s-option1" class="row my-5 visually-hidden">
                    
                    <!-- Direct distribution input -->
                    <div class="col-md-12 mb-4">
                        <label for="i-direct-dist" class="form-label">Distribution URL</label>
                        <div class="input-group">
                            <input id="i-direct-dist" type="url" class="form-control" placeholder="https://data.set/myopencsvfile.csv" aria-label="Distribution URL">
                            <button class="btn btn-outline-secondary" type="button" id="b-validatedirect" onclick="validate('form')">Validate</button>
                        </div>
                    </div>

                </div>

                <h1 class="text-primary mb-4"><a href="#i-endpoint" onclick="select('s-option2')">option 2: search for a data set</a></h1>
                <div id="s-option2" class="row my-5 visually-hidden">


                    <h3 class="text-primary mb-4">step 1: load endpoint</h3>
                    
                    <!-- Endpoint -->
                    <div class="col-md-12 mb-4">
                        <label for="i-endpoint" class="form-label">Endpoint URL</label>
                        <div class="input-group">
                            <input id="i-endpoint" type="url" class="form-control" value="http://datos.gob.es/virtuoso/sparql" aria-label="Endpoint URL">
                            <button class="btn btn-outline-primary" type="button" id="button-addon" onclick="loadEndpoint()">Load</button>
                            <button class="btn btn-outline-primary" type="button" id="b-reset" onclick="reset()">Reset</button>
                        </div>
                    </div>


                    <h3 class="text-primary mb-4">step 2: apply filters</h3>

                    <!-- Theme -->
                    <div class="col-md-6 mb-4">
                        <label for="i-theme" class="form-label">Theme</label>
                        <select class="form-select" aria-label="Theme" id="i-theme" disabled>
                            <option selected>None</option>
                        </select>
                    </div>

                    <!-- Publisher -->
                    <div class="col-md-6 mb-4">
                        <label for="i-publisher" class="form-label">Publisher</label>
                        <select class="form-select" aria-label="Publisher" id="i-publisher" disabled>
                            <option selected>None</option>
                        </select>
                    </div>

                    <!-- Keywords -->
                    <div class="col-md-6 mb-4">
                        <label for="i-keywords" class="form-label">Keywords (separated by commas)</label>
                        <input type="text" class="form-control" id="i-keywords" placeholder="key, words, commas" disabled>
                    </div>

                    <!-- Apply button -->
                    <div class="col-md-6 mb-4">
                        <label for="b-apply" class="form-label"><br class="d-none d-md-block"></label>
                        <button id="b-apply" type="button" class="btn form-control disabled btn-outline-primary btn-md" onclick="applyFilters()">Apply</button>
                    </div>


                    <h3 class="text-primary mb-4">step 3: select data set</h3>

                    <!-- Title -->
                    <div class="col-md-12 mb-4">
                        <label for="i-title" class="form-label">Title</label>
                        <div class="input-group">
                            <select id="i-title" class="form-select" disabled></select>
                            <button class="btn btn-outline-primary disabled" type="button" id="b-title-load" onclick="loadTitle()">Load</button>
                        </div>
                    </div>


                    <h3 class="text-primary mb-4">step 4: select distribution</h3>

                    <!-- Distribution -->
                    <div class="col-md-12 mb-4">
                        <label for="i-distribution" class="form-label">Title</label>
                        <div class="input-group">
                            <select id="i-distribution" class="form-select" disabled></select>
                            <button class="btn btn-outline-secondary disabled" type="button" id="b-dist-validate" onclick="validate('dist')">Validate</button>
                        </div>
                    </div>
                </div>
            </section>


            <hr class="my-5">


            <section id="s-results" class="container col-xxl-8 px-4 py-4 visually-hidden">
                
                <!-- General analysis -->
                <h1 class="text-primary mb-5">general analysis</h1>

                <!-- Progress bar -->
                <div class="progress mb-5">
                    <div id="r-quality-factor" class="progress-bar" role="progressbar" style="width: 57%;" aria-valuenow="57" aria-valuemin="0" aria-valuemax="100"><h4>quality: 57%</h4></div>
                </div>


                <!-- Observations -->
                <h2 class="text-primary mb-4">observations</h2>

                <div class="mb-5">
                    <span class="row py-2 m-2 border rounded border-success">
                        <div class="col-md-12"><i class="bi bi-exclamation-triangle"></i> No commas present in line 16</div>
                    </span>
                    <span class="row py-2 m-2 border rounded border-success">
                        <div class="col-md-12"><i class="bi bi-exclamation-triangle"></i> Invalid characters in lines 35, 36, 37</div>
                    </span>
                </div>


                <!-- Detailed analysis -->
                <h1 class="text-primary mb-5">detailed analysis</h1>

                <div class="row">
                    
                    <!-- Columns -->
                    <div class="col-md-6 mb-5">
                        <h2 class="text-secondary">Columns</h2>
                        <h5 id="r-col-rep" class="text-secondary"><i class="bi bi-check-lg"></i> Avoid repetition</h5>
                        <hr>
                        <h5 id="r-col-st" class="text-primary">Subtotal: 0%</h5>
                    </div>

                    <!-- Unknown values -->
                    <div class="col-md-6 mb-5">
                        <h2 class="text-secondary">Unknown values</h2>
                        <h5 id="r-unk-com" class="text-secondary"><i class="bi bi-check-lg"></i> Common code</h5>
                        <hr>
                        <h5 id="r-unk-st" class="text-primary">Subtotal: 0%</h5>
                    </div>

                    <!-- Text fields -->
                    <div class="col-md-6 mb-5">
                        <h2 class="text-secondary">Text fields</h2>
                        <h5 id="r-txt-zer" class="text-secondary"><i class="bi bi-check-lg"></i> Numeric values with zeroes to the left</h5>
                        <hr>
                        <h5 id="r-txt-st" class="text-primary">Subtotal: 0%</h5>
                    </div>

                    <!-- Number fields -->
                    <div class="col-md-6 mb-5">
                        <h2 class="text-secondary">Number fields</h2>
                        <h5 id="r-num-sep" class="text-secondary"><i class="bi bi-check-lg"></i> Decimal separators (varies with region)</h5>
                        <h5 id="r-num-par" class="text-secondary"><i class="bi bi-check-lg"></i> Negative values with parenthesis (minus sign)</h5>
                        <hr>
                        <h5 id="r-num-st" class="text-primary">Subtotal: 0%</h5>
                    </div>

                    <!-- Date fields -->
                    <div class="col-md-6 mb-5">
                        <h2 class="text-secondary">Date fields</h2>
                        <h5 id="r-dat-iso" class="text-secondary"><i class="bi bi-check-lg"></i> ISO 8601 format</h5>
                        <hr>
                        <h5 id="r-dat-st" class="text-primary">Subtotal: 0%</h5>
                    </div>

                    <!-- Phone number fields -->
                    <div class="col-md-6 mb-5">
                        <h2 class="text-secondary">Phone number fields</h2>
                        <h5 id="r-phn-cod" class="text-secondary"><i class="bi bi-check-lg"></i> Country code</h5>
                        <hr>
                        <h5 id="r-phn-st" class="text-primary">Subtotal: 0%</h5>
                    </div>
                </div>

            </section>


            <hr class="my-5 visually-hidden">


            <!-- Footer -->
            <section class="container col-xxl-8 px-4 py-5">
                <div class="row text-center g-5 py-2">
                    <p>Koala icon made by <a href="https://www.flaticon.com/authors/ultimatearm" title="ultimatearm">ultimatearm</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>.<br>Made with &#127817; and &#129382; in <a href="https://2021.summerofcode.es/">oSoc Spain 2021</a>.</p>
                </div>
            </section>

            <script type="text/javascript" src="js/validator.js"></script>

        </main>
    </body>
</html>
